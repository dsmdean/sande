<div ng-show="loading" class="loading" ng-include="'templates/spinner.html'"></div>

<div class="col-lg-12">
    <div class="row">
        <div class="col-lg-12">
            <ol class="breadcrumb">
                <li><a href="">Dashboard</a></li>
                <li><a href="">COMPANY</a></li>
                <li class="active"><span>PROFILE</span></li>
            </ol>
            <h1>{{company.name}} <small>/ {{company.category.category}}</small></h1>
        </div>
    </div>
    <div class="row">

        <!-- COL 1 -->
        <div class="col-sm-4 col-md-4 col-lg-3">
            <section class="panel">
                <div class="panel-body noradius padding-10">

                    <figure class="margin-bottom-10 img-container">
                        <!-- image -->
                        <img ng-hide="thumbnail.available && !isCompanyAdmin" ng-src="img/company-profile/{{company.image}}" alt="" class="profile-img img-responsive center-block pic" />
                        <img ng-show="thumbnail.available && isCompanyAdmin" ng-src="{{thumbnail.dataUrl}}" alt="" class="profile-img img-responsive center-block pic" />
                        <form ng-show="isCompanyAdmin" enctype="multipart/form-data" ng-submit="uploadPicture()" class="button-overlay">
                            <!--<div class="progress" ng-show="uploading">
                                <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                    <span class="sr-only"></span>
                                </div>
                            </div>-->

                            <label class="btn btn-primary col-lg-12 col-md-12 col-xs-12 img-company-profile-button-hover">
                                Browse
                                <input id="choose-image" class="hidden" type="file" file-parse="picture.upload" name="picture" ng-disabled="uploading" onchange="angular.element(this).scope().photoChanged(this.files)">
                            </label>
                            <button type="submit" class="btn btn-success col-lg-12 col-md-12 col-xs-12 img-company-profile-button-hover" ng-disabled="uploading">Upload Picture</button>
                        </form>
                    </figure>
                    <!-- /image -->

                    <!-- progress bar -->
                    <h6 class="progress-head" ng-show="uploading && isCompanyAdmin">Uploading Profile Picture</h6>
                    <div class="progress progress-xs" ng-show="uploading && isCompanyAdmin">
                        <div class="progress-bar" role="progressbar" style="width: 100%"></div>
                    </div>
                    <!-- /progress bar -->

                    <!-- updated -->
                    <ul class="list-unstyled size-13">
                        <li class="text-gray"><i class="fa fa-envelope"></i>&nbsp; {{company.email}}</li>
                        <li class="text-gray"><i class="fa fa-phone"></i>&nbsp; {{company.phone}}</li>
                        <li class="text-gray"><i class="fa fa-map-marker"></i>&nbsp; {{company.location.address}}, {{company.location.city}} {{company.location.province}}</li>
                        <!--<li>Confirm Your Account</li>-->
                        <!--<li>Update Your Address</li>-->
                    </ul>
                    <!-- /updated -->

                    <hr class="half-margins">

                    <!-- About -->
                    <h3 class="text-black">
                        Description
                        <!--<small class="text-gray size-14"> / CEO</small>-->
                    </h3>
                    <p class="size-12">{{company.description}}</p>
                    <!-- /About -->

                    <!--<hr class="half-margins">-->

                    <!-- Social -->
                    <!--<h6>Follow Me</h6>
                    <a href="#" class="btn ico-only btn-facebook btn-xs" title="Facebook"><i class="fa fa-facebook"></i></a>
                    <a href="#" class="btn ico-only btn-twitter btn-xs" title="Twitter"><i class="fa fa-twitter"></i></a>
                    <a href="#" class="btn ico-only btn-google-plus btn-xs" title="Google plus"><i class="fa fa-google-plus"></i></a>
                    <a href="#" class="btn ico-only btn-linkedin btn-xs" title="Linked In"><i class="fa fa-linkedin"></i></a>
                    <a href="#" class="btn ico-only btn-pinterest btn-xs" title="Pinterest"><i class="fa fa-pinterest"></i></a>
                    <a href="#" class="btn ico-only btn-flickr btn-xs" title="Flickr"><i class="fa fa-flickr"></i></a>
                    <a href="#" class="btn ico-only btn-tumblr btn-xs" title="Tumblr"><i class="fa fa-tumblr"></i></a>
                    <a href="#" class="btn ico-only btn-skype btn-xs" title="Skype"><i class="fa fa-skype"></i></a>
                    <a href="#" class="btn ico-only btn-stackoverflow btn-xs" title="Stack Overflow"><i class="fa fa-stack-overflow"></i></a>
                    <a href="#" class="btn ico-only btn-instagram btn-xs" title="Instagram"><i class="fa fa-instagram"></i></a>
                    <a href="#" class="btn ico-only btn-dribbble btn-xs" title="Dribble"><i class="fa fa-dribbble"></i></a>
                    <a href="#" class="btn ico-only btn-youtube btn-xs" title="Youtube"><i class="fa fa-youtube"></i></a>
                    <a href="#" class="btn ico-only btn-vimeo btn-xs" title="Vimeo"><i class="fa fa-vimeo-square"></i></a>
                    <a href="#" class="btn ico-only btn-rss btn-xs" title="Rss"><i class="fa fa-rss"></i></a>-->
                    <!-- /Social -->

                </div>
            </section>
        </div>
        <!-- /COL 1 -->

        <!-- COL 2 -->
        <div class="col-sm-8 col-md-8 col-lg-6">
            <div class="tabs white nomargin-top">
                <ul class="nav nav-tabs tabs-primary">
                    <!--<li class="active">
                        <a href="/company#tab-overview" data-toggle="tab" aria-expanded="true">Overview</a>
                    </li>-->
                    <li ng-show="isCompanyAdmin" class="" ng-class="{'active': isCompanyAdmin}">
                        <a href="/company-profile#tab-edit" data-toggle="tab" aria-expanded="isCompanyAdmin">Settings</a>
                    </li>
                    <li ng-show="isCompanyAdmin" class="">
                        <a href="/company-profile#tab-users" data-toggle="tab" aria-expanded="false">Users</a>
                    </li>
                    <li ng-show="company.settings.services" class="" ng-class="{'active': !isCompanyAdmin}">
                        <a href="/company-profile#tab-services" data-toggle="tab" aria-expanded="!isCompanyAdmin">Services</a>
                    </li>
                    <li ng-show="company.settings.products" class="">
                        <a href="/company-profile#tab-products" data-toggle="tab" aria-expanded="false">Products</a>
                    </li>
                </ul>

                <div class="tab-content">

                    <!-- Overview -->
                    <!--<div id="tab-overview" class="tab-pane fade in">

                        <form class="well">
                            <textarea rows="2" class="form-control" placeholder="What's on your mind?"></textarea>

                            <div class="margin-top-10">
                                <button type="submit" class="btn btn-sm btn-primary pull-right">Post</button>
                                <a href="#" class="btn btn-link profile-btn-link" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Add a Location"><i class="fa fa-map-marker"></i></a>
                                <a href="#" class="btn btn-link profile-btn-link" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Add Photo"><i class="fa fa-camera"></i></a>
                                <a href="#" class="btn btn-link profile-btn-link" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Add File"><i class="fa fa-file"></i></a>
                            </div>
                        </form>

                        <hr class="invisible half-margins">

                        <ul class="comment list-unstyled">
                            <li class="comment">

                                <img class="avatar" src="img/company-profile/default-company-image.jpg" width="50" height="50" alt="avatar">

                                <div class="comment-body">
                                    <a href="#" class="comment-author">
                                        <small class="text-muted pull-right"> 12 Minutes ago </small>
                                        <span>Melisa Scarlet</span>
                                    </a>
                                    <p>
                                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt laoreet dolore magna aliquam tincidunt erat volutpat laoreet dolore magna aliquam tincidunt erat volutpat.
                                    </p>
                                </div>

                                <ul class="list-inline size-11 margin-top-10">
                                    <li>
                                        <a href="#" class="text-info"><i class="fa fa-reply"></i> Reply</a>
                                    </li>
                                    <li>
                                        <a href="#" class="text-success"><i class="fa fa-thumbs-up"></i> Like</a>
                                    </li>
                                    <li>
                                        <a href="#" class="text-muted">Show All Comments (36)</a>
                                    </li>
                                    <li class="pull-right">
                                        <a href="#" class="text-danger">Delete</a>
                                    </li>
                                    <li class="pull-right">
                                        <a href="#" class="text-primary">Edit</a>
                                    </li>
                                </ul>
                            </li>

                            <li class="comment comment-reply">

                                <img class="avatar" src="img/company-profile/default-company-image.jpg" width="35" height="35" alt="avatar">

                                <div class="comment-body">
                                    <a href="#" class="comment-author">
                                        <small class="text-muted pull-right"> 4 Minutes ago </small>
                                        <span>Ioana Scarlet</span>
                                    </a>
                                    <p>
                                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy! <i class="fa fa-smile-o green"></i>
                                    </p>
                                </div>

                                <ul class="list-inline size-11">
                                    <li>
                                        <a href="#" class="text-success"><i class="fa fa-thumbs-up"></i> Like</a>
                                    </li>
                                    <li class="pull-right">
                                        <a href="#" class="text-danger">Delete</a>
                                    </li>
                                    <li class="pull-right">
                                        <a href="#" class="text-primary">Edit</a>
                                    </li>
                                </ul>

                            </li>

                            <li class="comment comment-reply">

                                <img class="avatar" src="img/company-profile/default-company-image.jpg" width="35" height="35" alt="avatar">

                                <div class="comment-body">
                                    <a href="#" class="comment-author">
                                        <small class="text-muted pull-right"> a moment ago </small>
                                        <span>Simona Scarlet</span>
                                    </a>
                                    <p>
                                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy! <i class="fa fa-smile-o green"></i>
                                    </p>
                                </div>

                                <ul class="list-inline size-11">
                                    <li>
                                        <a href="#" class="text-success"><i class="fa fa-thumbs-up"></i> Like</a>
                                    </li>
                                    <li class="pull-right">
                                        <a href="#" class="text-danger">Delete</a>
                                    </li>
                                    <li class="pull-right">
                                        <a href="#" class="text-primary">Edit</a>
                                    </li>
                                </ul>

                            </li>
                        </ul>

                        <ul class="comment list-unstyled">
                            <li class="comment">

                                <img class="avatar" src="img/company-profile/default-company-image.jpg" width="50" height="50" alt="avatar">

                                <div class="comment-body">
                                    <a href="#" class="comment-author">
                                        <small class="text-muted pull-right"> 12 Minutes ago </small>
                                        <span>Melisa Scarlet</span>
                                    </a>
                                    <p>
                                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt laoreet dolore magna aliquam tincidunt erat volutpat laoreet dolore magna aliquam tincidunt erat volutpat.
                                    </p>
                                </div>

                                <ul class="list-inline size-11 margin-top-10">
                                    <li>
                                        <a href="#" class="text-info"><i class="fa fa-reply"></i> Reply</a>
                                    </li>
                                    <li>
                                        <a href="#" class="text-success"><i class="fa fa-thumbs-up"></i> Like</a>
                                    </li>
                                    <li class="pull-right">
                                        <a href="#" class="text-danger">Delete</a>
                                    </li>
                                    <li class="pull-right">
                                        <a href="#" class="text-primary">Edit</a>
                                    </li>
                                </ul>
                            </li>

                            <li class="comment comment-reply">

                                <img class="avatar" src="img/company-profile/default-company-image.jpg" width="35" height="35" alt="avatar">

                                <div class="comment-body">
                                    <a href="#" class="comment-author">
                                        <small class="text-muted pull-right"> 4 Minutes ago </small>
                                        <span>Ioana Scarlet</span>
                                    </a>
                                    <p>
                                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy! <i class="fa fa-smile-o green"></i>
                                    </p>
                                </div>

                                <ul class="list-inline size-11">
                                    <li>
                                        <a href="#" class="text-success"><i class="fa fa-thumbs-up"></i> Like</a>
                                    </li>
                                    <li class="pull-right">
                                        <a href="#" class="text-danger">Delete</a>
                                    </li>
                                    <li class="pull-right">
                                        <a href="#" class="text-primary">Edit</a>
                                    </li>
                                </ul>

                            </li>

                            <li class="comment comment-reply">

                                <img class="avatar" src="img/company-profile/default-company-image.jpg" width="35" height="35" alt="avatar">

                                <div class="comment-body">
                                    <a href="#" class="comment-author">
                                        <small class="text-muted pull-right"> a moment ago </small>
                                        <span>Simona Scarlet</span>
                                    </a>
                                    <p>
                                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy! <i class="fa fa-smile-o green"></i>
                                    </p>
                                </div>

                                <ul class="list-inline size-11">
                                    <li>
                                        <a href="#" class="text-success"><i class="fa fa-thumbs-up"></i> Like</a>
                                    </li>
                                    <li class="pull-right">
                                        <a href="#" class="text-danger">Delete</a>
                                    </li>
                                    <li class="pull-right">
                                        <a href="#" class="text-primary">Edit</a>
                                    </li>
                                </ul>

                            </li>
                            <li>
                                <div class="input-group">
                                    <input id="btn-input" type="text" class="form-control" placeholder="Type your message...">
                                    <span class="input-group-btn">
															<button class="btn btn-primary" id="btn-chat">
																<i class="fa fa-reply"></i> Reply
															</button> 
														</span>
                                </div>
                            </li>
                        </ul>

                    </div>-->

                    <!-- Edit -->
                    <div id="tab-edit" class="tab-pane fade" ng-class="{'in active': isCompanyAdmin}">

                        <form class="form-horizontal" ng-submit="updateCompany()">
                            <h4>Personal Information</h4>
                            <fieldset>
                                <div class="form-group">
                                    <label class="col-md-3 control-label" for="companyName">Name</label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" id="companyName" ng-model="company.name">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 control-label" for="companyEmail">Email</label>
                                    <div class="col-md-8">
                                        <input type="email" class="form-control" id="companyEmail" ng-model="company.email">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 control-label" for="companyPhone">Phone</label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" id="companyPhone" ng-model="company.phone">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 control-label" for="companyAddress">Address</label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" id="companyAddress" ng-model="company.location.address">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 control-label" for="companyCity">City</label>
                                    <div class="col-md-4">
                                        <input type="text" class="form-control" id="companyCity" ng-model="company.location.city">
                                    </div>
                                    <label class="col-md-2 control-label" for="companyProvince">Province</label>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" id="companyProvince" ng-model="company.location.province">
                                    </div>
                                </div>
                            </fieldset>
                            <hr>

                            <h4>About</h4>
                            <fieldset>
                                <div class="form-group">
                                    <label class="col-md-3 control-label" for="companyDescription">Description</label>
                                    <div class="col-md-8">
                                        <textarea class="form-control" rows="3" id="companyDescription" ng-model="company.description"></textarea>
                                    </div>
                                </div>
                            </fieldset>
                            <hr>

                            <h4>What Do You Offer?</h4>
                            <fieldset class="col-md-offset-3">
                                <div class="form-group">
                                    <div class="radio">
                                        <input type="radio" name="settings" id="services" ng-model="company.offerSettings" value="services">
                                        <label class="col-md-8" for="services">Services (You offer different services)</label>
                                    </div>
                                    <div class="radio">
                                        <input type="radio" name="settings" id="products" ng-model="company.offerSettings" value="products">
                                        <label class="col-md-8" for="products">Products (You offer different products through your online/local shop)</label>
                                    </div>
                                    <div class="radio">
                                        <input type="radio" name="settings" id="both" ng-model="company.offerSettings" value="both">
                                        <label class="col-md-8" for="both">Both</label>
                                    </div>
                                    <div class="radio">
                                        <input type="radio" name="settings" id="none" ng-model="company.offerSettings" value="none">
                                        <label class="col-md-8" for="none">None</label>
                                    </div>
                                </div>
                            </fieldset>
                            <div class="row">
                                <div class="col-md-9 col-md-offset-3">
                                    <button type="submit" class="btn btn-primary">Submit</button>
                                    <!--<button type="reset" class="btn btn-default">Reset</button>-->
                                </div>
                            </div>
                        </form>
                    </div>

                    <!-- Users -->
                    <div class="tab-pane clearfix fade" id="tab-users">
                        <ul class="widget-users row">
                            <!--<li class="col-md-6">
                                <div class="img">
                                    <img src="img/samples/scarlet.png" alt="" />
                                </div>
                                <div class="details">
                                    <div class="name">
                                        <a href="#">Jennifer Lawrence</a>
                                    </div>
                                    <div class="time">
                                        <i class="fa fa-clock-o"></i> Last online: 5 minutes ago
                                    </div>
                                    <div class="type">
                                        <span class="label label-danger">Admin</span>
                                    </div>
                                </div>
                            </li>
                            <li class="col-md-6">
                                <div class="img">
                                    <img src="img/samples/kunis.png" alt="" />
                                </div>
                                <div class="details">
                                    <div class="name">
                                        <a href="#">Mila Kunis</a>
                                    </div>
                                    <div class="time online">
                                        <i class="fa fa-check-circle"></i> Online
                                    </div>
                                    <div class="type">
                                        <span class="label label-warning">Pending</span>
                                    </div>
                                </div>
                            </li>-->
                            <li class="col-md-6" ng-repeat="user in company.users">
                                <div class="img">
                                    <img ng-src="img/user-profile/{{user.user.image}}" height="50px" alt="" />
                                </div>
                                <div class="details">
                                    <div class="name">
                                        <a href="">{{user.user.firstname}} {{user.user.lastname}}</a>
                                    </div>
                                    <div class="time online">
                                        <i class="fa fa-check-circle"></i> Online
                                    </div>
                                    <div class="type">
                                        <span class="label label-danger">Admin</span>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <!-- Products -->
                    <div class="tab-pane clearfix fade" id="tab-products">
                        <div class="main-box-body clearfix">
                            <header ng-show="isCompanyAdmin" class="main-box-header clearfix">
                                <a href="/company-profile#tab-add-product" data-toggle="tab" aria-expanded="false">
                                    <i class="fa fa-plus-circle" aria-hidden="true"></i> Add Product</a>
                            </header><br>
                            <ul class="widget-products">
                                <li ng-repeat="product in company.products | orderBy: '-'">
                                    <a href="/company-profile#tab-products-details" data-toggle="tab" aria-expanded="false" ng-click="setDetailedProduct(product)">
                                        <div class="img col-lg-1 col-xs-2">
                                            <img ng-src="img/company-profile/products/{{product.images[0]}}" alt="" />
                                        </div>
                                        <div class="product clearfix col-lg-10 col-xs-9">
                                            <div class="name col-lg-12">
                                                {{product.name}}
                                            </div>
                                            <div class="col-lg-3 col-md-4">
                                                <span class="product price">
                                                <i class="fa fa-money"></i> &dollar;{{product.price}}
                                            </span>
                                            </div>
                                            <div class="col-lg-9 col-md-8">
                                                <p>{{product.description | limitTo: 70}}...</p>
                                            </div>
                                            <!--<span class="price">
                                                <i class="fa fa-money"></i> &dollar;{{product.price}}
                                            </span>-->
                                            <!--<span class="warranty">
                                                <i class="fa fa-certificate"></i> Warranty: 2 years
                                            </span>-->
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Product Details -->
                    <div class="tab-pane clearfix fade" id="tab-products-details">
                        <div class="main-box-body clearfix">
                            <header class="main-box-header clearfix">
                                <a href="/company-profile#tab-products" data-toggle="tab" aria-expanded="false">
                                    <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Back to Products</a>
                                <a ng-show="isCompanyAdmin" href="" data-toggle="modal" data-target="#deleteProductModal" class="red pull-right"><i class="fa fa-trash" aria-hidden="true"></i> Delete Product</a>
                            </header><br>
                            <!--<h4>Products</h4>-->
                            <div class="row">
                                <!--View-->
                                <div ng-hide="editProduct">
                                    <div class="col-lg-6 col-md-6 col-xs-12 product-image">
                                        <!-- Tab panes -->
                                        <div class="tab-content">
                                            <div role="tabpanel" class="tab-pane fade in" ng-class="{'active': $index===0}" id="{{$index}}" ng-repeat="img in detailedProduct.images">
                                                <figure class="margin-bottom-10 img-container">
                                                    <!-- image -->
                                                    <!--<img ng-src="img/company-profile/products/{{img}}" class="profile-img img-responsive center-block pic">-->
                                                    <img ng-src="img/company-profile/products/{{img}}" alt="" class="profile-img img-responsive center-block pic" />
                                                    <form ng-show="isCompanyAdmin" enctype="multipart/form-data" class="button-overlay">
                                                        <button type="button" data-toggle="modal" data-target="#addProductImageModal" class="btn btn-xs btn-default col-md-2 col-xs-2 img-product-button-add-hover"><i class="fa fa-plus" aria-hidden="true"></i></button>
                                                        <button type="button" ng-click="deleteProductImageModal($index)" class="btn btn-xs btn-danger col-md-2 col-xs-2 img-product-button-add-hover"><i class="fa fa-times" aria-hidden="true"></i></button>
                                                    </form>
                                                </figure>
                                            </div>
                                        </div>
                                        <!-- Nav tabs -->
                                        <div class="row product-tabs" role="tablist">
                                            <div role="presentation" class="col-lg-4 col-md-4 col-xs-6" ng-class="{'active': $index===0}" ng-repeat="img in detailedProduct.images">
                                                <a href="/company-profile#{{$index}}" aria-controls="{{$index}}" role="tab" data-toggle="tab" aria-expanded="true"><img ng-src="img/company-profile/products/{{img}}" class="img-thumbnail" alt=""></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-xs-12 product-info">
                                        <h3>{{detailedProduct.name}}&nbsp;
                                            <a ng-show="isCompanyAdmin" href="" ng-click="toggleEditProduct()"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                                        </h3>
                                        <!--<div class="list-pro-rating">
                                            <i class="fa fa-star icolor"></i>
                                            <i class="fa fa-star icolor"></i>
                                            <i class="fa fa-star icolor"></i>
                                            <i class="fa fa-star icolor"></i>
                                            <i class="fa fa-star"></i>
                                        </div>-->

                                        <p>{{detailedProduct.description}}</p>
                                        <hr>
                                        <h2 class="price">
                                            &dollar;{{detailedProduct.price}}
                                            <!--<small>&nbsp;&nbsp;&nbsp;<s>40% off</s></small>-->
                                        </h2>
                                        <hr>
                                        <!--<span class="warranty">
                                            <i class="fa fa-certificate"></i> Warranty: 2 years
                                        </span><br><br>-->
                                        <div class="form-group" ng-repeat="option in detailedProduct.options">
                                            <label for="{{option.name}}">{{option.name}}</label>
                                            <select class="form-control" id="{{option.name}}">
                                                <option ng-repeat="optionsOption in option.options">{{optionsOption}}</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-md-4">
                                            <label for="qty">QTY</label>
                                            <input type="number" id="qty" class="form-control" ng-model="detailedProduct.qty">
                                        </div>
                                        <div ng-hide="isCompanyAdmin" class="form-group col-md-12">
                                            <button type="submit" ng-click="addToCart(detailedProduct)" class="btn btn-success col-lg-6 col-md-8 col-xs-12"><span><i class="fa fa-cart-plus"></i> Add to Cart</span></button>
                                        </div><br><br>
                                    </div>
                                </div>
                                <!--Edit-->
                                <div ng-show="editProduct">
                                    <form class="form-horizontal">
                                        <h2 class="text-center" style="margin-top:0px;padding-top: 0px">Edit Product: {{detailedProduct.name}}</h2>
                                        <fieldset>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" for="productName">Name</label>
                                                <div class="col-md-8">
                                                    <input type="text" class="form-control" id="productName" ng-model="detailedProduct.name" required>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" for="productPrice">Price</label>
                                                <div class="col-md-8">
                                                    <div class="input-group">
                                                        <div class="input-group-addon">$</div>
                                                        <input type="text" class="form-control" id="productPrice" ng-model="detailedProduct.price" placeholder="Price" required>
                                                        <!--<div class="input-group-addon">.00</div>-->
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" for="productDescription">Description</label>
                                                <div class="col-md-8">
                                                    <textarea class="form-control" rows="3" id="productDescription" ng-model="detailedProduct.description"></textarea>
                                                </div>
                                            </div>
                                            <div ng-hide="detailedProduct.options.length < 1">
                                                <hr>
                                                <h4 class="col-md-offset-3">Product Options <small>(seperate options with a comma, no space)</small></h4>
                                                <div ng-repeat="option in detailedProduct.options">
                                                    <div class="form-group">
                                                        <label class="col-md-3 control-label" for="productOptionsName">Option Name</label>
                                                        <div class="col-md-8">
                                                            <input type="text" class="form-control" id="productOptionsName" ng-model="option.name" placeholder="Color or Size etc">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-md-3 control-label" for="productOptionsOption">Options {{option.name}}</label>
                                                        <div class="col-md-8">
                                                            <textarea class="form-control" rows="3" id="productOptionsOption" ng-model="detailedProduct.options[$index].options" onchange="angular.element(this).scope().addOptionsOptionToDetailedProduct()"></textarea>
                                                        </div>
                                                    </div>
                                                    <button type="submit" ng-click="deleteOptionDetailedProduct($index)" class="btn btn-xs btn-danger col-lg-offset-9 col-md-offset-8 col-lg-2 col-md-3 delete-option"><i class="fa fa-times"></i> Delete Option</button>
                                                    <hr style="width:75%;margin-left:20%">
                                                </div>
                                            </div>
                                        </fieldset>
                                        <div class="form-group">
                                            <button ng-click="toggleEditProduct()" class="btn btn-default col-md-offset-2 col-md-3 col-xs-11"><span>Go Back</span></button>
                                            <button ng-click="addOptionToDetailedProduct()" class="btn btn-primary col-md-3 col-xs-11"><span>Add Option</span></button>
                                            <button ng-click="editCompanyProduct()" class="btn btn-success col-md-3 col-xs-11"><span>Save</span></button>
                                        </div><br><br>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Add Product -->
                    <div class="tab-pane clearfix fade" id="tab-add-product">
                        <div class="main-box-body clearfix">
                            <header class="main-box-header clearfix">
                                <a href="/company-profile#tab-products" data-toggle="tab" aria-expanded="false">
                                    <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Back to Products</a>
                            </header><br>
                            <!--<h4>Products</h4>-->
                            <form class="form-horizontal">
                                <h2 class="text-center" style="margin-top:0px;padding-top: 0px">Add Product</h2>
                                <fieldset>
                                    <div class="form-group">
                                        <label class="col-md-3 control-label" for="productName">Name</label>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" id="productName" ng-model="newProduct.name" required>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3 control-label" for="productPrice">Price</label>
                                        <div class="col-md-8">
                                            <div class="input-group">
                                                <div class="input-group-addon">$</div>
                                                <input type="number" class="form-control" id="productPrice" ng-model="newProduct.price" placeholder="Price" required>
                                                <!--<div class="input-group-addon">.00</div>-->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3 control-label" for="productDescription">Description</label>
                                        <div class="col-md-8">
                                            <textarea class="form-control" rows="3" id="productDescription" ng-model="newProduct.description"></textarea>
                                        </div>
                                    </div>
                                    <div ng-show="newOption">
                                        <hr>
                                        <h4 class="col-md-offset-3">Product Options <small>(seperate options with a comma, no space)</small></h4>
                                        <div ng-repeat="option in newProduct.options">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" for="productOptionsName">Option Name</label>
                                                <div class="col-md-8">
                                                    <input type="text" class="form-control" id="productOptionsName" ng-model="option.name" placeholder="Color or Size etc">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label" for="productOptionsOption">Options {{option.name}}</label>
                                                <div class="col-md-8">
                                                    <textarea class="form-control" rows="3" id="productOptionsOption" ng-model="newProduct.options[$index].options" onchange="angular.element(this).scope().addOptionsOptionToNewProduct()"></textarea>
                                                    <hr>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                                <div class="row">
                                    <div class="col-md-4 col-md-offset-3">
                                        <a ng-hide="newOption" class="btn btn-primary col-md-12" ng-click="addOptionToNewProduct()">Add Option</a>
                                        <a ng-show="newOption" class="btn btn-primary col-md-12" ng-click="addOptionToNewProduct()">One more option</a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="/company-profile#tab-products" class="btn btn-success col-md-12" data-toggle="tab" aria-expanded="false" ng-click="addCompanyProduct()">Add Product</a>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Services -->
                    <div class="tab-pane clearfix fade" ng-class="{'in active': !isCompanyAdmin}" id="tab-services">
                        <div class="main-box-body clearfix">
                            <header ng-show="isCompanyAdmin" class="main-box-header clearfix">
                                <a href="/company-profile#tab-add-service" data-toggle="tab" aria-expanded="false">
                                    <i class="fa fa-plus-circle" aria-hidden="true"></i> Add Service</a>
                            </header><br>
                            <div class="panel-group accordion" id="accordion">
                                <div class="panel panel-default" ng-repeat="service in company.services">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">
                                            <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="/company-profile#service{{$index}}">{{service.name}}</a>
                                        </h4>
                                    </div>
                                    <div id="service{{$index}}" class="panel-collapse collapse" ng-class="{'in': $index===0}">
                                        <div class="panel-body">
                                            <div ng-show="isCompanyAdmin">
                                                <a href="" ng-click="toggleEditService()"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> Toggle Edit Service</a>
                                                <a href="" data-toggle="modal" data-target="#deleteServiceModal" ng-click="setDeleteService(service)" class="red pull-right"><i class="fa fa-trash" aria-hidden="true"></i> Delete Service</a>
                                                <br/><br/>
                                            </div>
                                            <!--VIEW-->
                                            <div ng-hide="editService">{{service.description}}</div>
                                            <!--EDIT-->
                                            <div ng-show="editService">
                                                <form class="form-horizontal">
                                                    <fieldset>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" for="serviceName">Name</label>
                                                            <div class="col-md-8">
                                                                <input type="text" class="form-control" id="serviceName" ng-model="service.name" required>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label" for="serviceDescription">Description</label>
                                                            <div class="col-md-8">
                                                                <textarea class="form-control" rows="3" id="serviceDescription" ng-model="service.description"></textarea>
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                    <div class="form-group">
                                                        <button ng-click="editCompanyService(service)" class="btn btn-success col-md-offset-8 col-md-3 col-xs-11"><span>Save</span></button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Add Service -->
                    <div class="tab-pane clearfix fade" id="tab-add-service">
                        <div class="main-box-body clearfix">
                            <header class="main-box-header clearfix">
                                <a href="/company-profile#tab-services" data-toggle="tab" aria-expanded="false">
                                    <i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Back to Services</a>
                            </header><br>
                            <form class="form-horizontal">
                                <h2 class="text-center" style="margin-top:0px;padding-top: 0px">Add Service</h2>
                                <fieldset>
                                    <div class="form-group">
                                        <label class="col-md-3 control-label" for="serviceName">Name</label>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" id="serviceName" ng-model="newService.name" required>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-3 control-label" for="serviceDescription">Description</label>
                                        <div class="col-md-8">
                                            <textarea class="form-control" rows="3" id="serviceDescription" ng-model="newService.description"></textarea>
                                        </div>
                                    </div>
                                </fieldset>
                                <div class="row">
                                    <div class="col-md-4">
                                        <a href="/company-profile#tab-services" class="btn btn-success col-md-12" data-toggle="tab" aria-expanded="false" ng-click="addCompanyService()">Add Service</a>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /COL 2 -->

        <!-- COL 3 -->
        <div class="col-md-12 col-lg-3">
            <section class="panel panel-default">
                <header class="panel-heading">
                    <h2 class="panel-title elipsis">
                        <i class="fa fa-rss"></i> Events
                    </h2>
                </header>

                <div class="panel-body noradius padding-10">
                    <a ui-sref="company-calendar({name: company.name})"> View Calendar</a>
                    <a ng-show="isCompanyAdmin" href="" class="pull-right" data-toggle="modal" data-target="#addEventModal">
                        <i class="fa fa-plus-circle" aria-hidden="true"></i> Add Event
                    </a><br/><br/>
                    <div class="row profile-activity">
                        <div ng-repeat="event in companyEvent | orderBy: 'date' | filter: getFutureEvents | limitTo: 3">
                            <div class="col-xs-3 col-sm-2">
                                <time datetime="event.date" class="datebox">
                                <strong>{{event.date | date :  "MMM"}}</strong>
                                <span>{{event.date | date :  "dd"}}</span>
                            </time>
                            </div>
                            <div class="col-xs-9 col-sm-10">
                                <h4>
                                    {{event.name}}&nbsp;
                                    <a ng-show="isCompanyAdmin" href="" data-toggle="modal" data-target="#editEventModal" ng-click="setDetailedEvent(event)"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                                </h4>
                                <p>{{event.description | limitTo: 100}}...</p>
                            </div>
                            <a ng-show="isCompanyAdmin" href="" data-toggle="modal" data-target="#deleteEventModal" ng-click="setDetailedEvent(event)" class="red pull-right"><i class="fa fa-trash" aria-hidden="true"></i> Delete Event &nbsp;&nbsp;</a>
                            <div class="col-sm-12">
                                <hr class="half-margins">
                            </div>
                        </div>

                    </div>
                </div>
            </section>
        </div>
        <!-- /COL 3 -->

    </div>

</div>

<!-- Delete Product Confirm Modal -->
<div class="modal fade" id="deleteProductModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header" style="padding: 30px;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Do you want to delete this product "{{detailedProduct.name}}"?</h4>
                <br/>
                <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal" href="/company-profile#tab-products" data-toggle="tab" aria-expanded="false" ng-click="deleteCompanyProduct()">Yes, Delete Product</button>
                <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">No, Leave</button>
            </div>
        </div>
    </div>
</div>

<!-- Delete Service Confirm Modal -->
<div class="modal fade" id="deleteServiceModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header" style="padding: 30px;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Do you want to delete this service?</h4>
                <br/>
                <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal" ng-click="deleteCompanyService()">Yes, Delete Service</button>
                <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">No, Leave</button>
            </div>
        </div>
    </div>
</div>

<!-- Add Product Image Modal -->
<div class="modal fade" id="addProductImageModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header" style="padding: 30px;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <br/>
                <div class="col-md-offset-2 col-md-4">
                    <img ng-hide="productThumbnail.available" ng-src="img/company-profile/products/default-company-image-300.jpg" alt="" class="img-responsive center-block" />
                    <img ng-show="productThumbnail.available" ng-src="{{productThumbnail.dataUrl}}" alt="" class="img-responsive center-block" />
                </div>
                <div class="col-md-4">
                    <h4 class="modal-title">Select the new image!</h4>
                    <br/><br/>
                    <form enctype="multipart/form-data">
                        <div class="progress" ng-show="productUploading">
                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                                <span class="sr-only"></span>
                            </div>
                        </div>

                        <label class="btn btn-primary col-lg-12 col-md-12 col-xs-12">
                            Browse
                            <input id="choose-image" class="hidden" type="file" file-parse="productPicture.upload" name="picture" ng-disabled="productUploading" onchange="angular.element(this).scope().detailPhotoChanged(this.files)">
                        </label>
                        <button type="button" data-dismiss="modal" ng-click="addCompanyProductImage()" class="btn btn-success col-lg-12 col-md-12 col-xs-12" ng-disabled="productUploading">Upload Picture</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add Event Modal -->
<div class="modal fade" id="addEventModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header" style="padding: 30px;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Add Event</h4>
                <br/>
                <form class="form-horizontal">
                    <fieldset>
                        <hr/>
                        <h5 class="col-md-offset-3">Info</h5>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventName">Name</label>
                            <div class="col-md-8">
                                <input type="text" class="form-control" id="eventName" ng-model="newEvent.name">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventDate">Date</label>
                            <div class="col-md-8">
                                <input type="date" class="form-control" id="eventDate" ng-model="newEvent.date">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventType">Type</label>
                            <div class="col-md-8">
                                <select class="form-control" id="eventType" ng-model="newEvent.type">
                                    <option value=""></option>
                                    <option value="Event">Event</option>
                                    <option value="Meeting">Meeting</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventDescription">Description</label>
                            <div class="col-md-8">
                                <textarea class="form-control" rows="3" id="eventDescription" ng-model="newEvent.description"></textarea>
                            </div>
                        </div>
                        <hr/>
                        <h5 class="col-md-offset-3">Location</h5>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventAddress">Address</label>
                            <div class="col-md-8">
                                <input type="text" class="form-control" id="eventAddress" ng-model="newEvent.location.address">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventCity">City</label>
                            <div class="col-md-4">
                                <input type="text" class="form-control" id="eventCity" ng-model="newEvent.location.city">
                            </div>
                            <label class="col-md-2 control-label" for="eventProvince">Province</label>
                            <div class="col-md-2">
                                <input type="text" class="form-control" id="eventProvince" ng-model="newEvent.location.province">
                            </div>
                        </div>
                        <hr/>
                        <h5 class="col-md-offset-3">Settings</h5>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventPublic">Public</label>
                            <div class="col-md-8">
                                <div class="onoffswitch">
                                    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="eventPublic" ng-model="newEvent.public" checked>
                                    <label class="onoffswitch-label" for="eventPublic">
                                    <div class="onoffswitch-inner"></div>
                                    <div class="onoffswitch-switch"></div>
                                </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </form>
                <br/>
                <button type="button" class="btn btn-success btn-sm" data-dismiss="modal" ng-click="addEvent()">Save this event</button>
                <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Leave</button>
            </div>
        </div>
    </div>
</div>

<!-- Edit Event Modal -->
<div class="modal fade" id="editEventModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header" style="padding: 30px;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Edit Event</h4>
                <br/>
                <form class="form-horizontal">
                    <fieldset>
                        <hr/>
                        <h5 class="col-md-offset-3">Info</h5>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventName">Name</label>
                            <div class="col-md-8">
                                <input type="text" class="form-control" id="eventName" ng-model="detailedEvent.name">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventDate">Date</label>
                            <div class="col-md-8">
                                <input type="date" class="form-control" id="eventDate" ng-model="detailedEvent.date">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventType">Type</label>
                            <div class="col-md-8">
                                <select class="form-control" id="eventType" ng-model="detailedEvent.type">
                                    <option value=""></option>
                                    <option value="Event">Event</option>
                                    <option value="Meeting">Meeting</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventDescription">Description</label>
                            <div class="col-md-8">
                                <textarea class="form-control" rows="3" id="eventDescription" ng-model="detailedEvent.description"></textarea>
                            </div>
                        </div>
                        <hr/>
                        <h5 class="col-md-offset-3">Location</h5>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventAddress">Address</label>
                            <div class="col-md-8">
                                <input type="text" class="form-control" id="eventAddress" ng-model="detailedEvent.location.address">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventCity">City</label>
                            <div class="col-md-4">
                                <input type="text" class="form-control" id="eventCity" ng-model="detailedEvent.location.city">
                            </div>
                            <label class="col-md-2 control-label" for="eventProvince">Province</label>
                            <div class="col-md-2">
                                <input type="text" class="form-control" id="eventProvince" ng-model="detailedEvent.location.province">
                            </div>
                        </div>
                        <hr/>
                        <h5 class="col-md-offset-3">Settings</h5>
                        <div class="form-group">
                            <label class="col-md-3 control-label" for="eventPublic">Public</label>
                            <div class="col-md-8">
                                <div class="onoffswitch">
                                    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="eventPublic" ng-model="detailedEvent.public" checked>
                                    <label class="onoffswitch-label" for="eventPublic">
                                    <div class="onoffswitch-inner"></div>
                                    <div class="onoffswitch-switch"></div>
                                </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </form>
                <br/>
                <button type="button" class="btn btn-success btn-sm" data-dismiss="modal" ng-click="updateEvent()">Update this event</button>
                <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Leave</button>
            </div>
        </div>
    </div>
</div>

<!-- Delete Event Confirm Modal -->
<div class="modal fade" id="deleteEventModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header" style="padding: 30px;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Do you want to delete this event "{{detailedEvent.name}}"?</h4>
                <br/>
                <button type="button" class="btn btn-danger btn-sm" data-dismiss="modal" ng-click="deleteEvent()">Yes, Delete Event</button>
                <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">No, Leave</button>
            </div>
        </div>
    </div>
</div>